import os
import shutil


ROOT_FOlDER = "/home/unibna/thesis/dataset"
MAL_DST_FOLDER = "/home/unibna/thesis/detector/random_forest/sample/malware"
BENIGN_DST_FOLDER = "/home/unibna/thesis/detector/random_forest/sample/benign"



def move_files(no_mal, no_benign):
    # delete all files
    shutil.rmtree(MAL_DST_FOLDER)
    os.mkdir(MAL_DST_FOLDER)

    shutil.rmtree(BENIGN_DST_FOLDER)
    os.mkdir(BENIGN_DST_FOLDER)

    malware_folder = os.path.join(ROOT_FOlDER, "malware")
    malware_files = os.listdir(malware_folder)
    for file in malware_files[:no_mal]:
        src = os.path.join(malware_folder, file)
        dst = os.path.join(MAL_DST_FOLDER, file)
        shutil.copy(src, dst)

    benign_folder = os.path.join(ROOT_FOlDER, "benign")
    benign_files = os.listdir(benign_folder)
    for file in benign_files[:no_benign]:
        src = os.path.join(benign_folder, file)
        dst = os.path.join(BENIGN_DST_FOLDER, file)
        shutil.copy(src, dst)


if __name__ == "__main__":
    import sys

    no_mal = int(sys.argv[1])
    no_benign = int(sys.argv[2])
    move_files(no_mal, no_benign)
